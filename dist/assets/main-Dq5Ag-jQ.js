import{c as N,r as i,d as xe,l as se,j as e,a as _e,f as Ve,b as qe,i as b,e as We,S as Se,G as ce,C as ee,A as Ye,g as Je,R as Ke}from"./index-ChUB2kEe.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=N("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=N("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=N("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=N("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=N("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=N("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=N("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=N("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=N("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=N("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=N("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=N("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function st(){const[c,o]=i.useState([]),l=i.useRef(0),d=i.useRef([]),h=i.useRef(!1),[p,y]=i.useState(xe);i.useEffect(()=>{(()=>{const x=localStorage.getItem("raritySettings");if(x)try{y(JSON.parse(x))}catch(g){console.error("Failed to load rarity settings:",g)}})();const m=x=>{y(x.detail)};return window.addEventListener("rarity-settings-updated",m),()=>{window.removeEventListener("rarity-settings-updated",m)}},[]),i.useEffect(()=>{const n=se("achievement-unlocked",m=>{console.log("ðŸ† Achievement unlocked event received:",m.payload),d.current.push(m.payload),r()});return()=>{n.then(m=>m())}},[]);const r=()=>{if(h.current||d.current.length===0)return;h.current=!0;const n=d.current.shift(),m={...n,id:l.current++,visible:!1};if(p.enabled&&n.global_unlock_percentage!==void 0){const x=_e(n.global_unlock_percentage),g=p[x].soundPath;if(g)try{const f=qe(g);console.log("Playing custom sound for",x,":",f),console.log("Original path:",g);const C=new Audio(f);C.volume=1,C.play().catch(I=>{console.error("Failed to play custom sound:",I),console.error("Asset URL:",f)})}catch(f){console.error("Failed to create audio element:",f)}}else b("play_windows_notification_sound").catch(x=>{console.error("Failed to play Windows notification sound:",x)});o(x=>[...x,m]),setTimeout(()=>{o(x=>x.map(g=>g.id===m.id?{...g,visible:!0}:g))},50),setTimeout(()=>{o(x=>x.map(g=>g.id===m.id?{...g,visible:!1}:g)),setTimeout(()=>{o(x=>x.filter(g=>g.id!==m.id)),h.current=!1,d.current.length>0&&setTimeout(()=>r(),500)},300)},6e3)};return e.jsx("div",{className:"achievement-toast-container",children:c.map(n=>e.jsx(at,{data:n,raritySettings:p},n.id))})}function at({data:c,raritySettings:o}){const l=_e(c.global_unlock_percentage),d=o[l],h=o.enabled,p=h?d.borderColor:"#3B82F6",y=h?d.backgroundColor:"#1E3A8A",r=h?d.backgroundOpacity/100:.9,n=h?d.titleColor:"#DBEAFE",m=h?d.descriptionColor:"#BFDBFE",x=h?d.scaling/100:1,g=h?d.position:"top-right",f=h&&d.glowEffect,C=h?d.glowColor:p,I=h?d.icon:"ðŸ†",L={"top-left":"top-8 left-8","top-right":"top-8 right-8","bottom-left":"bottom-8 left-8","bottom-right":"bottom-8 right-8",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},M=L[g]||L["top-right"],z={borderColor:p,backgroundColor:`${y}${Math.round(r*255).toString(16).padStart(2,"0")}`,boxShadow:f?`0 0 30px ${C}, 0 0 60px ${C}40, 0 4px 16px rgba(0, 0, 0, 0.5)`:"0 4px 16px rgba(0, 0, 0, 0.5)"},V={transform:`scale(${x})`},R={background:`radial-gradient(circle at 50% 50%, ${C}40 0%, transparent 70%)`};return e.jsx("div",{className:`fixed ${M}`,style:V,children:e.jsxs("div",{className:`achievement-toast ${c.visible?"visible":""}`,style:z,children:[f&&e.jsx("div",{className:"achievement-toast-glow",style:R}),e.jsxs("div",{className:"achievement-toast-header",children:[e.jsx("span",{className:"text-2xl mr-2",children:I}),e.jsxs("span",{className:"achievement-toast-title",style:{color:n},children:["ACHIEVEMENT UNLOCKED",c.global_unlock_percentage!==void 0&&e.jsxs("span",{className:"ml-2 text-sm opacity-75",children:["(",Ve(c.global_unlock_percentage),")"]})]}),h&&e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded text-xs font-bold",style:{backgroundColor:`${p}30`,color:p,borderColor:p,border:"1px solid"},children:l})]}),e.jsxs("div",{className:"achievement-toast-content",children:[c.icon_url&&e.jsx("div",{className:"achievement-toast-icon",style:{borderColor:p},children:e.jsx("img",{src:c.icon_url,alt:c.display_name})}),e.jsxs("div",{className:"achievement-toast-details",children:[e.jsx("div",{className:"achievement-toast-name",style:{color:n},children:c.display_name}),e.jsx("div",{className:"achievement-toast-description",style:{color:m},children:c.description}),e.jsx("div",{className:"achievement-toast-game",style:{color:m,opacity:.8},children:c.game_name})]})]}),e.jsx("div",{className:"achievement-toast-progress-bar",style:{backgroundColor:`${p}30`},children:e.jsx("div",{className:"achievement-toast-progress-fill",style:{backgroundColor:p}})})]})})}const lt=["top-left","top-right","bottom-left","bottom-right","center"],rt=[40,60,80,100,120,140,160];function ot({rarity:c,settings:o,onChange:l,onTest:d}){const[h,p]=i.useState(!1),y=async n=>{try{const m=await b("browse_file");m&&(n==="sound"?l({...o,soundPath:m}):n==="font"?l({...o,fontPath:m}):n==="icon"&&l({...o,icon:m}))}catch(m){console.error(`Failed to select ${n}:`,m)}},r=()=>{switch(c){case"Common":return"#9CA3AF";case"Uncommon":return"#10B981";case"Rare":return"#3B82F6";case"Ultra Rare":return"#A855F7";case"Legendary":return"#F59E0B"}};return e.jsxs("div",{className:"bg-[#0f1420] border-2 rounded-xl overflow-hidden",style:{borderColor:r()},children:[e.jsxs("button",{onClick:()=>p(!h),className:"w-full p-5 flex items-center justify-between hover:bg-[#13172a] transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:o.icon}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-xl font-bold",style:{color:r()},children:c}),e.jsxs("p",{className:"text-sm text-gray-400",children:[c==="Common"&&"90%+ unlock rate",c==="Uncommon"&&"60-89% unlock rate",c==="Rare"&&"35-59% unlock rate",c==="Ultra Rare"&&"15-34% unlock rate",c==="Legendary"&&"0-14% unlock rate"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:n=>{n.stopPropagation(),d()},className:"px-4 py-2 rounded-lg font-semibold transition-all shadow-lg hover:scale-105",style:{backgroundColor:r()+"30",borderColor:r()+"50",color:r(),border:"2px solid"},children:"Test"}),e.jsx("span",{className:`transform transition-transform ${h?"rotate-180":""}`,children:"â–¼"})]})]}),h&&e.jsxs("div",{className:"p-6 border-t-2 space-y-6",style:{borderColor:r()+"30"},children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Border Color"}),e.jsx("input",{type:"color",value:o.borderColor,onChange:n=>l({...o,borderColor:n.target.value}),className:"w-full h-12 rounded-lg cursor-pointer border-2 border-[#2a3142]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Background Color"}),e.jsx("input",{type:"color",value:o.backgroundColor,onChange:n=>l({...o,backgroundColor:n.target.value}),className:"w-full h-12 rounded-lg cursor-pointer border-2 border-[#2a3142]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Title Color"}),e.jsx("input",{type:"color",value:o.titleColor,onChange:n=>l({...o,titleColor:n.target.value}),className:"w-full h-12 rounded-lg cursor-pointer border-2 border-[#2a3142]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Description Color"}),e.jsx("input",{type:"color",value:o.descriptionColor,onChange:n=>l({...o,descriptionColor:n.target.value}),className:"w-full h-12 rounded-lg cursor-pointer border-2 border-[#2a3142]"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200",children:"Background Opacity"}),e.jsxs("span",{className:"text-sm font-bold",style:{color:r()},children:[o.backgroundOpacity,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:o.backgroundOpacity,onChange:n=>l({...o,backgroundOpacity:parseInt(n.target.value)}),className:"w-full h-3 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${r()} 0%, ${r()} ${o.backgroundOpacity}%, rgb(15, 20, 32) ${o.backgroundOpacity}%, rgb(15, 20, 32) 100%)`}})]}),e.jsxs("div",{className:"flex items-center justify-between bg-[#1a1f3a] p-4 rounded-lg border-2 border-[#2a3142]",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:"Glow Effect"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Add a glowing border effect"})]}),o.glowEffect&&e.jsx("input",{type:"color",value:o.glowColor,onChange:n=>l({...o,glowColor:n.target.value}),className:"h-10 w-20 rounded-lg cursor-pointer border-2 border-[#2a3142]"})]}),e.jsx("button",{onClick:()=>l({...o,glowEffect:!o.glowEffect}),className:`relative w-16 h-9 rounded-full transition-all shadow-inner ${o.glowEffect?"bg-blue-600":"bg-gray-700"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-7 h-7 bg-white rounded-full shadow-lg transition-transform ${o.glowEffect?"transform translate-x-7":""}`})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Position"}),e.jsx("select",{value:o.position,onChange:n=>l({...o,position:n.target.value}),className:"w-full bg-[#1a1f3a] border-2 border-[#2a3142] rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:lt.map(n=>e.jsx("option",{value:n,children:n.split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ")},n))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Scaling"}),e.jsx("select",{value:o.scaling,onChange:n=>l({...o,scaling:parseInt(n.target.value)}),className:"w-full bg-[#1a1f3a] border-2 border-[#2a3142] rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:rt.map(n=>e.jsxs("option",{value:n,children:[n,"%"]},n))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200 mb-2",children:"Icon (Emoji or Image)"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:o.icon,onChange:n=>l({...o,icon:n.target.value}),placeholder:"Enter emoji or file path",className:"flex-1 bg-[#1a1f3a] border-2 border-[#2a3142] rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"}),(o.icon.includes("\\")||o.icon.includes("/")||/\.(png|jpg|jpeg|gif|bmp|svg|ico|webp)$/i.test(o.icon))&&e.jsx("button",{onClick:()=>{l({...o,icon:{Common:"â­",Uncommon:"ðŸŒŸ",Rare:"ðŸ’Ž","Ultra Rare":"ðŸ‘‘",Legendary:"ðŸ†"}[c]})},className:"bg-red-600 hover:bg-red-500 px-4 py-3 rounded-lg font-semibold transition-all",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsxs("button",{onClick:()=>y("icon"),className:"bg-blue-600 hover:bg-blue-500 px-4 py-3 rounded-lg font-semibold transition-all flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4"}),"Browse"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Supported formats: PNG, JPG, GIF, BMP, SVG, ICO, WEBP"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-200 mb-2 flex items-center gap-2",children:[e.jsx(tt,{className:"w-4 h-4"}),"Custom Sound"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:o.soundPath||"",readOnly:!0,placeholder:"No sound selected",className:"flex-1 bg-[#1a1f3a] border-2 border-[#2a3142] rounded-lg px-4 py-3 text-white placeholder-gray-500"}),o.soundPath&&e.jsx("button",{onClick:()=>l({...o,soundPath:null}),className:"bg-red-600 hover:bg-red-500 px-4 py-3 rounded-lg font-semibold transition-all",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsxs("button",{onClick:()=>y("sound"),className:"bg-blue-600 hover:bg-blue-500 px-4 py-3 rounded-lg font-semibold transition-all flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4"}),"Browse"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Supported formats: MP3, WAV, OGG, FLAC"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-200 mb-2 flex items-center gap-2",children:[e.jsx(et,{className:"w-4 h-4"}),"Custom Font"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:o.fontPath||"",readOnly:!0,placeholder:"No font selected",className:"flex-1 bg-[#1a1f3a] border-2 border-[#2a3142] rounded-lg px-4 py-3 text-white placeholder-gray-500"}),o.fontPath&&e.jsx("button",{onClick:()=>l({...o,fontPath:null}),className:"bg-red-600 hover:bg-red-500 px-4 py-3 rounded-lg font-semibold transition-all",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsxs("button",{onClick:()=>y("font"),className:"bg-blue-600 hover:bg-blue-500 px-4 py-3 rounded-lg font-semibold transition-all flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4"}),"Browse"]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Supported formats: TTF, OTF, WOFF, WOFF2"})]})]})]})}function nt(){const[c,o]=i.useState("settings"),[l,d]=i.useState({ludusaviPath:"",backupPath:"",autoStart:!0,notificationsEnabled:!0,gameExecutables:{}}),[h,p]=i.useState(!1),[y,r]=i.useState(null),[n,m]=i.useState(!1),[x,g]=i.useState([]),[f,C]=i.useState(""),[I,L]=i.useState([]),[M,z]=i.useState(!1),[V,R]=i.useState(!1),[ae,ue]=i.useState(new Set),[G,he]=i.useState([]),[_,le]=i.useState(null),[be,q]=i.useState([]),[pe,W]=i.useState(!1),[it,ct]=i.useState(!1),[dt,mt]=i.useState(!1),[Y,ge]=i.useState(""),[fe,J]=i.useState([]),[Ee,re]=i.useState(!1),O=i.useRef(null),[xt,ut]=i.useState({}),[E,ve]=i.useState(null),[$,oe]=i.useState(!1),[ne,U]=i.useState(""),[k,K]=i.useState(null),[ye,Q]=i.useState([]),[ht,ie]=i.useState(!1),D=i.useRef(null),[T,Ae]=i.useState(()=>{const t=localStorage.getItem("achievementSettings");if(t)try{return JSON.parse(t)}catch{return{duration:6}}return{duration:6}}),[w,je]=i.useState(()=>{const t=localStorage.getItem("raritySettings");if(t)try{return JSON.parse(t)}catch{return xe}return xe}),$e=t=>{const s={};return!t||t.length===0||(t.forEach(a=>{if(!a||a.length===0)return;const u=a.charAt(0).toUpperCase(),v=/[0-9]/.test(u)?"0-9":u;s[v]||(s[v]=[]),s[v].push(a)}),Object.keys(s).forEach(a=>{s[a].sort()})),s},Te=t=>{const s=new Set(ae);s.has(t)?s.delete(t):s.add(t),ue(s)};i.useEffect(()=>{Fe(),B();const t=se("game-not-found",a=>{r({type:"error",text:`Game "${a.payload.name}" not found in Ludusavi manifest. Please add it manually in the Games tab.`})}),s=se("game-detected",a=>{r({type:"success",text:`Game Save Monitor detected: ${a.payload}`}),setTimeout(()=>r(null),5e3)});return()=>{t.then(a=>a()),s.then(a=>a())}},[]),i.useEffect(()=>{localStorage.setItem("achievementSettings",JSON.stringify(T)),window.dispatchEvent(new CustomEvent("achievement-settings-updated",{detail:T}))},[T]),i.useEffect(()=>{localStorage.setItem("raritySettings",JSON.stringify(w)),We("rarity-settings-sync",w).catch(t=>{console.error("Failed to emit rarity settings:",t)}),window.dispatchEvent(new CustomEvent("rarity-settings-updated",{detail:w}))},[w]),i.useEffect(()=>{if(D.current&&clearTimeout(D.current),!f.trim()){L(x),R(!1);return}return R(!0),D.current=setTimeout(()=>{const t=f.toLowerCase(),s=x.filter(a=>a.toLowerCase().includes(t));L(s),R(!1)},200),()=>{D.current&&clearTimeout(D.current)}},[f,x]),i.useEffect(()=>{if(O.current&&clearTimeout(O.current),!Y.trim()){J([]),re(!1);return}return re(!0),O.current=setTimeout(async()=>{try{const t=await b("search_steam_games",{query:Y});J(t)}catch(t){console.error("Failed to search Steam games:",t),r({type:"error",text:`Failed to search: ${t}`}),J([])}finally{re(!1)}},500),()=>{O.current&&clearTimeout(O.current)}},[Y]),i.useEffect(()=>{let s=(async()=>await se("achievement-unlocked",u=>{const v=u.payload;console.log("ðŸ† Achievement unlocked event received in App:",v),q(A=>{if(A.length===0)return A;const F=A.findIndex(j=>j.achievement_id===v.achievement_id);if(F!==-1){const j=[...A];return j[F]={...j[F],achieved:!0,unlock_time:v.unlock_time},j}return A}),he(A=>{const F=A.findIndex(j=>j.app_id===v.app_id);if(F!==-1){const j=[...A];return j[F]={...j[F],unlocked_achievements:j[F].unlocked_achievements+1},j}return A})}))();return()=>{s.then(a=>a())}},[]);const Fe=async()=>{try{const t=await b("get_config");d(t)}catch(t){console.error("Failed to load config:",t)}},Ne=async()=>{if(!l.ludusaviPath){r({type:"error",text:"Please configure Ludusavi path first"});return}z(!0);try{const t=await b("get_ludusavi_manifest");if(g(t),L(t),t.length>0){const s=t[0].charAt(0).toUpperCase(),a=/[0-9]/.test(s)?"0-9":s;ue(new Set([a]))}r({type:"success",text:`Loaded ${t.length} games from Ludusavi manifest (using cache - instant load!)`})}catch(t){r({type:"error",text:`Failed to load Ludusavi manifest: ${t}`})}finally{z(!1)}},Pe=async()=>{p(!0),r(null);try{if(!l.ludusaviPath||!l.backupPath){r({type:"error",text:"Please fill in all required fields"}),p(!1);return}await b("save_config",{config:l}),r({type:"success",text:"Configuration saved successfully! Monitoring will restart."})}catch(t){r({type:"error",text:`Failed to save configuration: ${t}`})}finally{p(!1)}},Ie=async()=>{try{const t=await b("browse_file");t&&d({...l,ludusaviPath:t})}catch(t){console.error("Failed to browse file:",t)}},Le=async()=>{try{const t=await b("browse_folder");t&&d({...l,backupPath:t})}catch(t){console.error("Failed to browse folder:",t)}},Me=async()=>{if(!l.ludusaviPath){r({type:"error",text:"Please select Ludusavi executable first"});return}m(!0),r(null);try{const t=await b("test_ludusavi",{path:l.ludusaviPath});t.success?r({type:"success",text:"Ludusavi connection successful!"}):r({type:"error",text:`Ludusavi test failed: ${t.error||"Unknown error"}`})}catch(t){r({type:"error",text:`Failed to test Ludusavi: ${t}`})}finally{m(!1)}},Re=async t=>{try{const s=await b("browse_file");if(s){const a={...l,gameExecutables:{...l.gameExecutables,[t]:s}};d(a),p(!0);try{await b("save_config",{config:a}),r({type:"success",text:`Added executable for ${t} and saved configuration`}),setTimeout(()=>r(null),3e3)}catch(u){r({type:"error",text:`Failed to save configuration: ${u}`})}finally{p(!1)}}}catch(s){console.error("Failed to browse file:",s)}},Ge=async t=>{const s={...l.gameExecutables};delete s[t];const a={...l,gameExecutables:s};d(a),p(!0);try{await b("save_config",{config:a}),r({type:"success",text:`Removed executable for ${t}`}),setTimeout(()=>r(null),3e3)}catch(u){r({type:"error",text:`Failed to save: ${u}`})}finally{p(!1)}},B=async()=>{W(!0);try{const t=await b("get_all_achievements");he(t)}catch(t){r({type:"error",text:`Failed to load achievements: ${t}`})}finally{W(!1)}},we=async t=>{W(!0),le(t);try{const s=await b("get_game_achievements",{appId:t.app_id});s.length>0&&(console.log("First achievement data:",s[0]),console.log("Icon URL:",s[0].icon_url),console.log("Icon Gray URL:",s[0].icon_gray_url)),q(s)}catch(s){r({type:"error",text:`Failed to load achievements for ${t.game_name}: ${s}`})}finally{W(!1)}},Oe=async t=>{try{ie(!0),r({type:"success",text:`Checking sources for ${t.name}...`});const s=await b("check_game_sources",{appId:t.app_id,gameName:t.name});Q(s),K(t),ie(!1),r(null)}catch(s){ie(!1),r({type:"error",text:`Failed to check sources: ${s}`})}},Ue=async t=>{if(k)try{r({type:"success",text:`Adding ${k.name} from ${t}...`});const s=await b("add_game_from_source",{appId:k.app_id,gameName:k.name,source:t});r({type:"success",text:s});const a=await b("check_backup_exists",{gameName:k.name});if(a&&window.confirm(`A backup file was found for ${k.name}.

Would you like to restore achievements from the backup?

The backup will be imported while still monitoring the selected source for new achievements.`))try{const v=await b("restore_from_backup",{appId:k.app_id,gameName:k.name,backupPath:a});r({type:"success",text:`Successfully restored ${v} achievements from backup. Now monitoring ${t} for new achievements.`})}catch(v){r({type:"error",text:`Failed to restore backup: ${v}`})}await B(),ge(""),J([]),K(null),Q([])}catch(s){r({type:"error",text:`Failed to add game: ${s}`})}},De=async(t,s)=>{try{const a=await b("export_game_achievements",{appId:t,gameName:s});r({type:"success",text:a})}catch(a){r({type:"error",text:`Failed to export achievements: ${a}`})}},Be=async(t,s,a)=>{a.stopPropagation();try{const u=await b("remove_game_from_tracking",{appId:t});r({type:"success",text:`Removed ${s}`}),await B(),_?.app_id===t&&(le(null),q([]))}catch(u){r({type:"error",text:`Failed to remove game: ${u}`})}},He=t=>{if(ve(t),oe(t.achieved),t.unlock_time){const s=new Date(t.unlock_time*1e3),a=s.getFullYear()+"-"+String(s.getMonth()+1).padStart(2,"0")+"-"+String(s.getDate()).padStart(2,"0")+"T"+String(s.getHours()).padStart(2,"0")+":"+String(s.getMinutes()).padStart(2,"0");U(a)}else{const s=new Date,a=s.getFullYear()+"-"+String(s.getMonth()+1).padStart(2,"0")+"-"+String(s.getDate()).padStart(2,"0")+"T"+String(s.getHours()).padStart(2,"0")+":"+String(s.getMinutes()).padStart(2,"0");U(a)}},X=()=>{ve(null),oe(!1),U("")},ze=async()=>{if(E?.id)try{let t=null;if($&&ne){const s=new Date(ne);t=Math.floor(s.getTime()/1e3)}await b("update_achievement_status",{achievementId:E.id,achieved:$,unlockTime:$?t:null}),r({type:"success",text:`Achievement "${E.display_name}" updated successfully!`}),_&&await we(_),await B(),X()}catch(t){r({type:"error",text:`Failed to update achievement: ${t}`})}},ke=({achievement:t})=>{const[s,a]=i.useState(!1),u=t.achieved?t.icon_url:t.icon_gray_url;return!u||s?e.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${t.achieved?"bg-emerald-600/20":"bg-gray-700/20"}`,children:e.jsx(S,{className:`w-10 h-10 ${t.achieved?"text-emerald-400":"text-gray-600"}`})}):e.jsx("img",{src:u,alt:t.display_name,className:"w-16 h-16 flex-shrink-0 rounded-lg border-2 border-[#2a3142] object-cover",onError:()=>a(!0)})},Z=Object.keys(l.gameExecutables);return e.jsxs("div",{className:"min-h-screen bg-[#0a0e1a] text-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#1a1f3a] to-[#2a2f4a] border-b border-[#3a4466] shadow-xl",children:e.jsx("div",{className:"max-w-7xl mx-auto px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-600/20 rounded-xl border border-blue-500/30",children:e.jsx(Se,{className:"w-8 h-8 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Steam Backup Manager"}),e.jsx("p",{className:"text-blue-300/80 text-sm mt-1",children:"Automatic game save backups with Ludusavi"})]})]})})}),e.jsx("div",{className:"bg-[#0f1420] border-b border-[#2a3142]",children:e.jsx("div",{className:"max-w-7xl mx-auto px-8",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("button",{onClick:()=>o("settings"),className:`px-6 py-4 font-semibold transition-all relative ${c==="settings"?"text-blue-400 bg-[#1a1f3a]":"text-gray-400 hover:text-gray-200 hover:bg-[#13172a]"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5"}),e.jsx("span",{children:"Settings"})]}),c==="settings"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-500 rounded-t"})]}),e.jsxs("button",{onClick:()=>{o("games"),x.length===0&&Ne()},className:`px-6 py-4 font-semibold transition-all relative ${c==="games"?"text-blue-400 bg-[#1a1f3a]":"text-gray-400 hover:text-gray-200 hover:bg-[#13172a]"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5"}),e.jsx("span",{children:"Game Executables"}),e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-blue-600/30 text-blue-300 text-xs rounded-full border border-blue-500/30",children:Z.length})]}),c==="games"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-500 rounded-t"})]}),e.jsxs("button",{onClick:()=>{o("achievements"),G.length===0&&B()},className:`px-6 py-4 font-semibold transition-all relative ${c==="achievements"?"text-blue-400 bg-[#1a1f3a]":"text-gray-400 hover:text-gray-200 hover:bg-[#13172a]"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),e.jsx("span",{children:"Achievements"}),e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-amber-600/30 text-amber-300 text-xs rounded-full border border-amber-500/30",children:G.length})]}),c==="achievements"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-500 rounded-t"})]}),e.jsxs("button",{onClick:()=>o("customization"),className:`px-6 py-4 font-semibold transition-all relative ${c==="customization"?"text-blue-400 bg-[#1a1f3a]":"text-gray-400 hover:text-gray-200 hover:bg-[#13172a]"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5"}),e.jsx("span",{children:"Achievement Customization"})]}),c==="customization"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-blue-500 rounded-t"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-8",children:[y&&e.jsxs("div",{className:`rounded-xl p-4 mb-6 flex items-center gap-3 border shadow-lg ${y.type==="success"?"bg-emerald-950/50 border-emerald-600/50 text-emerald-100":"bg-red-950/50 border-red-600/50 text-red-100"}`,children:[y.type==="success"?e.jsx(ee,{className:"w-6 h-6 text-emerald-400 flex-shrink-0"}):e.jsx(Ye,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),e.jsx("p",{className:"flex-1 font-medium",children:y.text}),e.jsx("button",{onClick:()=>r(null),className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(P,{className:"w-5 h-5"})})]}),c==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-950/30 border border-blue-600/30 rounded-xl p-5 flex gap-4 shadow-lg",children:[e.jsx(H,{className:"w-6 h-6 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-100/90 space-y-1",children:[e.jsx("p",{className:"font-semibold text-blue-300 text-base mb-2",children:"ðŸŽ® Steamworks Integration"}),e.jsx("p",{children:"âœ“ This app uses Steamworks SDK for automatic Steam game detection"}),e.jsx("p",{children:"âœ“ Achievement tracking requires a Steam Web API Key"}),e.jsxs("p",{children:["âœ“ Get your free API key at: ",e.jsx("a",{href:"https://steamcommunity.com/dev/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"steamcommunity.com/dev/apikey"})]})]})]}),e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl p-8 border border-[#2a3142] shadow-xl space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-[#2a3142]",children:[e.jsx(de,{className:"w-7 h-7 text-blue-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Configuration"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-200 flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-blue-400"}),"Ludusavi Executable Path",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:l.ludusaviPath,onChange:t=>d({...l,ludusaviPath:t.target.value}),placeholder:"C:\\Program Files\\Ludusavi\\ludusavi.exe",className:"flex-1 bg-[#0f1420] border-2 border-[#2a3142] rounded-lg px-4 py-3.5 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-mono text-sm"}),e.jsx("button",{onClick:Ie,className:"bg-blue-600 hover:bg-blue-500 px-6 py-3.5 rounded-lg font-semibold transition-all shadow-lg hover:shadow-blue-500/20 border border-blue-500/30",children:"Browse"}),e.jsx("button",{onClick:Me,disabled:n,className:"bg-emerald-600 hover:bg-emerald-500 px-6 py-3.5 rounded-lg font-semibold transition-all shadow-lg hover:shadow-emerald-500/20 disabled:opacity-50 disabled:cursor-not-allowed border border-emerald-500/30",children:n?"Testing...":"Test"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-200 flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4 text-blue-400"}),"Backup Directory",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:l.backupPath,onChange:t=>d({...l,backupPath:t.target.value}),placeholder:"C:\\GameBackups",className:"flex-1 bg-[#0f1420] border-2 border-[#2a3142] rounded-lg px-4 py-3.5 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-mono text-sm"}),e.jsx("button",{onClick:Le,className:"bg-blue-600 hover:bg-blue-500 px-6 py-3.5 rounded-lg font-semibold transition-all shadow-lg hover:shadow-blue-500/20 border border-blue-500/30",children:"Browse"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-200 flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-amber-400"}),"Steam Web API Key",e.jsx("span",{className:"text-amber-400 text-xs",children:"(Required for Achievements)"})]}),e.jsx("input",{type:"text",value:l.steamApiKey||"",onChange:t=>d({...l,steamApiKey:t.target.value}),placeholder:"Get your API key from steamcommunity.com/dev/apikey",className:"w-full bg-[#0f1420] border-2 border-[#2a3142] rounded-lg px-4 py-3.5 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-mono text-sm"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Your API key is stored locally and only used to fetch achievement data from Steam"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-200 flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-blue-400"}),"Steam User ID",e.jsx("span",{className:"text-blue-400 text-xs",children:"(Optional - for local achievement detection)"})]}),e.jsx("input",{type:"text",value:l.steamUserId||"",onChange:t=>d({...l,steamUserId:t.target.value}),placeholder:"247367579",className:"w-full bg-[#0f1420] border-2 border-[#2a3142] rounded-lg px-4 py-3.5 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-mono text-sm"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Your Steam3 ID number (find it in C:\\Program Files (x86)\\Steam\\userdata\\). If not set, the first user will be used."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-200 flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-purple-400"}),"Steam64 ID",e.jsx("span",{className:"text-purple-400 text-xs",children:"(Optional - for fetching your achievement unlock status from Steam API)"})]}),e.jsx("input",{type:"text",value:l.steamId64||"",onChange:t=>d({...l,steamId64:t.target.value}),placeholder:"76561198207633307",className:"w-full bg-[#0f1420] border-2 border-[#2a3142] rounded-lg px-4 py-3.5 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-mono text-sm"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Your Steam64 ID (find it on steamid.io or steamidfinder.com). Used to fetch your personal achievement unlock times from Steam Web API."})]}),e.jsxs("div",{className:"flex items-center justify-between bg-[#0f1420] p-5 rounded-lg border-2 border-[#2a3142]",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white text-base",children:"Start with Windows"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Launch app automatically when Windows starts"})]}),e.jsx("button",{onClick:()=>d({...l,autoStart:!l.autoStart}),className:`relative w-16 h-9 rounded-full transition-all shadow-inner ${l.autoStart?"bg-blue-600":"bg-gray-700"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-7 h-7 bg-white rounded-full shadow-lg transition-transform ${l.autoStart?"transform translate-x-7":""}`})})]}),e.jsxs("div",{className:"flex items-center justify-between bg-[#0f1420] p-5 rounded-lg border-2 border-[#2a3142]",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white text-base",children:"Enable Notifications"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Show Windows notifications for backup status"})]}),e.jsx("button",{onClick:()=>d({...l,notificationsEnabled:!l.notificationsEnabled}),className:`relative w-16 h-9 rounded-full transition-all shadow-inner ${l.notificationsEnabled?"bg-blue-600":"bg-gray-700"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-7 h-7 bg-white rounded-full shadow-lg transition-transform ${l.notificationsEnabled?"transform translate-x-7":""}`})})]}),e.jsx("div",{className:"pt-3",children:e.jsx("button",{onClick:Pe,disabled:h,className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-bold py-4 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-emerald-500/30 border border-emerald-400/30",children:h?"Saving Configuration...":"Save Configuration"})})]})]}),c==="games"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl p-8 border border-[#2a3142] shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg border border-blue-500/30",children:e.jsx(ce,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Game Executables"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Map game executables to Ludusavi game names for process-based detection"})]})]}),e.jsx("button",{onClick:Ne,disabled:M,className:"bg-blue-600 hover:bg-blue-500 px-5 py-3 rounded-lg font-semibold transition-all shadow-lg hover:shadow-blue-500/20 disabled:opacity-50 border border-blue-500/30",children:M?"Loading...":"Refresh Manifest"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:f,onChange:t=>C(t.target.value),placeholder:"Search for a game in Ludusavi manifest...",className:"w-full bg-[#0f1420] border-2 border-[#2a3142] rounded-lg pl-12 pr-4 py-4 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"}),V&&e.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-gray-700 border-t-blue-500"})})]})]}),Z.length>0&&e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl p-8 border border-[#2a3142] shadow-xl",children:[e.jsxs("h3",{className:"text-lg font-bold mb-5 flex items-center gap-2 text-white",children:[e.jsx(ee,{className:"w-6 h-6 text-emerald-400"}),"Configured Games",e.jsx("span",{className:"ml-2 px-3 py-1 bg-emerald-600/30 text-emerald-300 text-sm rounded-full border border-emerald-500/30",children:Z.length})]}),e.jsx("div",{className:"space-y-3",children:Z.map(t=>e.jsxs("div",{className:"bg-[#0f1420] border-2 border-[#2a3142] rounded-lg p-4 flex items-center justify-between hover:border-emerald-500/30 transition-all",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-white text-base",children:t}),e.jsx("p",{className:"text-sm text-gray-400 truncate font-mono mt-1",children:l.gameExecutables[t]})]}),e.jsx("button",{onClick:()=>Ge(t),className:"ml-4 p-2.5 text-red-400 hover:text-red-300 hover:bg-red-950/50 rounded-lg transition-all border border-transparent hover:border-red-500/30",title:"Remove",children:e.jsx(Ze,{className:"w-5 h-5"})})]},t))})]}),e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl border border-[#2a3142] shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-[#2a3142] bg-[#13172a]",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Available Games in Ludusavi Manifest"}),x.length>0&&e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Showing ",e.jsx("span",{className:"text-blue-400 font-semibold",children:I.length})," of ",e.jsx("span",{className:"text-blue-400 font-semibold",children:x.length})," games"]})]}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto",id:"games-scroll-container",children:M?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gray-700 border-t-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium",children:"Loading games from Ludusavi manifest..."})]}):V?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-3 border-gray-700 border-t-blue-500 mb-3"}),e.jsx("p",{className:"text-gray-400 font-medium",children:"Searching..."})]}):I.length===0?e.jsxs("div",{className:"p-12 text-center text-gray-400",children:[e.jsx(ce,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"font-medium",children:f?"No games found matching your search":'Click "Refresh Manifest" to load games'})]}):e.jsx("div",{children:Object.entries($e(I)).sort().map(([t,s])=>e.jsxs("div",{className:"border-b border-[#2a3142]",children:[e.jsxs("button",{onClick:()=>Te(t),className:"w-full p-4 hover:bg-[#13172a] transition-colors flex items-center justify-between font-semibold text-white",children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:t}),e.jsx("span",{className:"text-sm text-gray-400 bg-[#0f1420] px-2 py-1 rounded",children:s.length})]}),e.jsx("span",{className:`transform transition-transform ${ae.has(t)?"rotate-180":""}`,children:"â–¼"})]}),ae.has(t)&&e.jsx("div",{className:"divide-y divide-[#2a3142] bg-[#0f1420]",children:s.map(a=>{const u=a in l.gameExecutables;return e.jsxs("div",{className:"p-4 hover:bg-[#13172a] transition-colors flex items-center justify-between",children:[e.jsx("span",{className:`font-medium ${u?"text-emerald-400":"text-gray-200"}`,children:a}),e.jsxs("button",{onClick:()=>Re(a),disabled:h,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg font-semibold transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed ${u?"bg-emerald-950/50 text-emerald-400 border-2 border-emerald-600/40 hover:bg-emerald-900/50":"bg-blue-600 hover:bg-blue-500 text-white border-2 border-blue-500/30"}`,children:[e.jsx(Ce,{className:"w-4 h-4"}),u?"Change EXE":"Select EXE"]})]},a)})})]},t))})})]})]}),c==="achievements"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl p-5 border border-[#2a3142] shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-1.5 bg-amber-600/20 rounded-lg border border-amber-500/30",children:e.jsx(S,{className:"w-5 h-5 text-amber-400"})}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Add New Game"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:Y,onChange:t=>ge(t.target.value),placeholder:"Search Steam games...",className:"w-full bg-[#0f1420] border-2 border-[#2a3142] rounded-lg pl-10 pr-3 py-2.5 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"}),Ee&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-700 border-t-blue-500"})})]}),fe.length>0&&e.jsx("div",{className:"mt-3 bg-[#0f1420] rounded-lg border border-[#2a3142] max-h-40 overflow-y-auto",children:e.jsx("div",{className:"divide-y divide-[#2a3142]",children:fe.map(t=>e.jsxs("button",{onClick:()=>Oe(t),className:"w-full p-3 hover:bg-[#13172a] transition-colors flex items-center justify-between group text-left",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"font-medium text-white text-sm group-hover:text-blue-400 transition-colors truncate",children:t.name})}),e.jsx(Xe,{className:"w-4 h-4 text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 ml-2"})]},t.app_id))})})]}),e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl p-5 border border-[#2a3142] shadow-xl",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-600/20 rounded-lg border border-blue-500/30",children:e.jsx(te,{className:"w-5 h-5 text-blue-400"})}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Filter Games"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:f,onChange:t=>C(t.target.value),placeholder:"Filter added games...",className:"w-full bg-[#0f1420] border-2 border-[#2a3142] rounded-lg pl-10 pr-3 py-2.5 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"})]})]})]}),pe&&G.length===0?e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl p-12 border border-[#2a3142] shadow-xl text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gray-700 border-t-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-400 font-medium",children:"Loading games..."})]}):G.length===0?e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl p-12 border border-[#2a3142] shadow-xl text-center",children:[e.jsx(S,{className:"w-16 h-16 mx-auto mb-4 opacity-50 text-gray-600"}),e.jsx("p",{className:"text-gray-400 font-medium mb-4",children:"No games added yet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Search for a Steam game above to start tracking achievements"})]}):e.jsx("div",{className:"grid grid-cols-4 gap-4",children:G.filter(t=>f.trim()===""||t.game_name.toLowerCase().includes(f.toLowerCase())).map(t=>{const s=Math.round(t.unlocked_achievements/t.total_achievements*100);return e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl border border-[#2a3142] shadow-xl hover:border-blue-500/50 transition-all cursor-pointer overflow-hidden group relative",onClick:()=>we(t),children:[e.jsx("button",{onClick:a=>Be(t.app_id,t.game_name,a),className:"absolute top-2 right-2 z-10 p-1.5 bg-red-600/90 hover:bg-red-500 rounded-lg opacity-0 group-hover:opacity-100 transition-all shadow-lg border border-red-500/50",title:"Remove game",children:e.jsx(P,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"h-32 relative overflow-hidden",children:[e.jsx("img",{src:`https://cdn.cloudflare.steamstatic.com/steam/apps/${t.app_id}/header.jpg`,alt:t.game_name,className:"w-full h-full object-cover",onError:a=>{a.currentTarget.style.display="none",a.currentTarget.parentElement&&(a.currentTarget.parentElement.className="h-32 bg-gradient-to-br from-blue-900/30 to-purple-900/30 relative overflow-hidden")}}),e.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all"}),e.jsx("div",{className:"absolute bottom-2 left-3 right-3",children:e.jsxs("div",{className:"text-xs font-semibold text-white/90",children:[t.unlocked_achievements," / ",t.total_achievements]})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-sm font-bold text-white line-clamp-2 mb-2 group-hover:text-blue-400 transition-colors",children:t.game_name}),e.jsx("div",{className:"bg-[#0f1420] rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-emerald-500 transition-all duration-500",style:{width:`${s}%`}})}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:[s,"% Complete"]}),e.jsx("span",{className:"text-xs text-blue-400",children:t.source})]})]})]},`${t.app_id}-${t.source}`)})}),_&&e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl border border-[#2a3142] shadow-xl overflow-hidden",children:[e.jsx("div",{className:"p-6 bg-[#13172a] border-b border-[#2a3142]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:_.game_name}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[_.unlocked_achievements," of ",_.total_achievements," achievements unlocked"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>De(_.app_id,_.game_name),className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-500 px-4 py-2 rounded-lg font-semibold transition-all shadow-lg hover:shadow-emerald-500/20 border border-emerald-500/30",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Export"]}),e.jsx("button",{onClick:()=>{le(null),q([])},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(P,{className:"w-6 h-6"})})]})]})}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto p-6 space-y-3",children:pe?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-3 border-gray-700 border-t-blue-500 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"Loading achievements..."})]}):be.length===0?e.jsx("div",{className:"text-center py-12 text-gray-400",children:e.jsx("p",{children:"No achievement details found"})}):be.map(t=>e.jsx("div",{onClick:()=>He(t),className:`p-4 rounded-lg border-2 transition-all cursor-pointer hover:scale-[1.02] ${t.achieved?"bg-emerald-950/30 border-emerald-600/40 hover:border-emerald-500/60":"bg-[#0f1420] border-[#2a3142] hover:border-blue-500/60"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(ke,{achievement:t}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`font-bold ${t.achieved?"text-emerald-300":"text-white"}`,children:t.display_name}),t.description&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:t.description}),t.unlock_time&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Unlocked: ",new Date(t.unlock_time*1e3).toLocaleString()]})]}),t.achieved&&e.jsx(ee,{className:"flex-shrink-0 w-6 h-6 text-emerald-400"})]})},t.achievement_id))})]})]}),c==="customization"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl p-8 border border-[#2a3142] shadow-xl space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-[#2a3142]",children:[e.jsx("div",{className:"p-2 bg-amber-600/20 rounded-lg border border-amber-500/30",children:e.jsx(S,{className:"w-7 h-7 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Achievement Customization"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Customize how achievement notifications appear"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-200",children:"Notification Duration"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"How long achievement notifications stay on screen"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-2xl font-bold text-blue-400",children:T.duration}),e.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"seconds"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"2",max:"10",step:"1",value:T.duration,onChange:t=>Ae({...T,duration:parseInt(t.target.value)}),className:"w-full h-3 bg-[#0f1420] rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, rgb(59, 130, 246) 0%, rgb(59, 130, 246) ${(T.duration-2)/8*100}%, rgb(15, 20, 32) ${(T.duration-2)/8*100}%, rgb(15, 20, 32) 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"2s"}),e.jsx("span",{children:"3s"}),e.jsx("span",{children:"4s"}),e.jsx("span",{children:"5s"}),e.jsx("span",{children:"6s"}),e.jsx("span",{children:"7s"}),e.jsx("span",{children:"8s"}),e.jsx("span",{children:"9s"}),e.jsx("span",{children:"10s"})]})]})]}),e.jsx("div",{className:"pt-6 border-t border-[#2a3142]",children:e.jsx("button",{onClick:async()=>{try{await b("test_overlay"),console.log("Test overlay triggered")}catch(t){console.error("Failed to test overlay:",t)}},className:"w-full bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white font-bold py-3 rounded-lg transition-all shadow-lg hover:shadow-purple-500/30 border border-purple-400/30",children:"ðŸŽ® Test Achievement Notification"})}),e.jsx("div",{className:"pt-6 border-t border-[#2a3142]",children:e.jsxs("div",{className:"flex items-center justify-between bg-[#0f1420] p-5 rounded-lg border-2 border-[#2a3142]",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white text-base",children:"Enable Rarity-Based Notifications"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Use different styles based on achievement rarity (determined by global unlock percentage)"})]}),e.jsx("button",{onClick:()=>je({...w,enabled:!w.enabled}),className:`relative w-16 h-9 rounded-full transition-all shadow-inner ${w.enabled?"bg-blue-600":"bg-gray-700"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-7 h-7 bg-white rounded-full shadow-lg transition-transform ${w.enabled?"transform translate-x-7":""}`})})]})}),w.enabled&&e.jsxs("div",{className:"pt-6 border-t border-[#2a3142] space-y-4",children:[e.jsxs("div",{className:"bg-blue-950/30 border border-blue-600/30 rounded-xl p-5 flex gap-4",children:[e.jsx(H,{className:"w-6 h-6 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-100/90",children:[e.jsx("p",{className:"font-semibold text-blue-300 text-base mb-2",children:"Rarity System"}),e.jsx("p",{children:"Achievements are categorized by their global unlock percentage:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-gray-300",children:"Common:"})," 90%+ of players have unlocked"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-green-400",children:"Uncommon:"})," 60-89% unlock rate"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-blue-400",children:"Rare:"})," 35-59% unlock rate"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-purple-400",children:"Ultra Rare:"})," 15-34% unlock rate"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-amber-400",children:"Legendary:"})," 0-14% unlock rate"]})]})]})]}),["Common","Uncommon","Rare","Ultra Rare","Legendary"].map(t=>e.jsx(ot,{rarity:t,settings:w[t],onChange:s=>{je({...w,[t]:s})},onTest:async()=>{try{await b("test_rarity_notification",{rarity:t}),console.log(`Test ${t} notification triggered`)}catch(s){console.error(`Failed to test ${t} notification:`,s)}}},t))]}),e.jsxs("div",{className:"bg-blue-950/30 border border-blue-600/30 rounded-xl p-5 flex gap-4",children:[e.jsx(H,{className:"w-6 h-6 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-100/90 space-y-1",children:[e.jsx("p",{className:"font-semibold text-blue-300 text-base mb-2",children:"Preview"}),e.jsx("p",{children:'Click the "Test Achievement Notification" button or individual rarity test buttons to preview your customization settings.'}),e.jsx("p",{className:"text-xs text-blue-200/70 mt-2",children:"Changes are saved automatically and will apply to all future achievement notifications."})]})]})]})})]}),E&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-8",onClick:X,children:e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl border-2 border-[#2a3142] shadow-2xl w-full max-w-2xl",onClick:t=>t.stopPropagation(),children:[e.jsx("div",{className:"p-6 border-b border-[#2a3142] bg-[#13172a]",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx(ke,{achievement:E}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:E.display_name}),E.description&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:E.description})]})]}),e.jsx("button",{onClick:X,className:"p-2 hover:bg-white/10 rounded-lg transition-colors ml-4",children:e.jsx(P,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-[#0f1420] p-5 rounded-lg border-2 border-[#2a3142]",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white text-base",children:"Achievement Status"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:$?"Marked as unlocked":"Marked as locked"})]}),e.jsx("button",{onClick:()=>oe(!$),className:`relative w-16 h-9 rounded-full transition-all shadow-inner ${$?"bg-emerald-600":"bg-gray-700"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-7 h-7 bg-white rounded-full shadow-lg transition-transform ${$?"transform translate-x-7":""}`})})]}),$&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-200 flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-amber-400"}),"Unlock Date & Time"]}),e.jsx("input",{type:"datetime-local",value:ne,onChange:t=>U(t.target.value),className:"w-full bg-[#0f1420] border-2 border-[#2a3142] rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-mono text-sm"}),e.jsxs("div",{className:"pt-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-400 mb-2",children:"Or paste Unix timestamp (seconds):"}),e.jsx("input",{type:"text",placeholder:"e.g., 1234567890",onPaste:t=>{const s=t.clipboardData.getData("text"),a=parseInt(s.trim());if(!isNaN(a)&&a>0){const u=new Date(a*1e3),v=u.getFullYear()+"-"+String(u.getMonth()+1).padStart(2,"0")+"-"+String(u.getDate()).padStart(2,"0")+"T"+String(u.getHours()).padStart(2,"0")+":"+String(u.getMinutes()).padStart(2,"0");U(v),t.currentTarget.value=""}},className:"w-full bg-[#0f1420] border-2 border-[#2a3142] rounded-lg px-4 py-2 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all font-mono"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Paste a Unix timestamp and it will automatically convert to a date/time"})]})]}),e.jsxs("div",{className:"bg-blue-950/30 border border-blue-600/30 rounded-lg p-4 flex gap-3",children:[e.jsx(H,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-100/90",children:[e.jsxs("p",{className:"font-semibold text-blue-300 mb-1",children:["Achievement Source: ",E.source]}),e.jsx("p",{children:"Manual changes will override data from this source."})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-[#2a3142] bg-[#13172a] flex gap-3",children:[e.jsx("button",{onClick:X,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition-all",children:"Cancel"}),e.jsx("button",{onClick:ze,className:"flex-1 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-semibold py-3 rounded-lg transition-all shadow-lg hover:shadow-emerald-500/30",children:"Save Changes"})]})]})}),k&&ye.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-8",onClick:()=>{K(null),Q([])},children:e.jsxs("div",{className:"bg-[#1a1f3a] rounded-xl border-2 border-[#2a3142] shadow-2xl w-full max-w-2xl",onClick:t=>t.stopPropagation(),children:[e.jsx("div",{className:"p-6 border-b border-[#2a3142] bg-[#13172a]",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Achievement Source"}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Choose which source to use for ",k.name]})]}),e.jsx("button",{onClick:()=>{K(null),Q([])},className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(P,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"p-6 space-y-4",children:ye.map(t=>e.jsx("button",{onClick:()=>Ue(t.name),className:"w-full bg-[#0f1420] hover:bg-[#13172a] border-2 border-[#2a3142] hover:border-blue-500 rounded-lg p-5 transition-all text-left group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-white text-lg group-hover:text-blue-400 transition-colors",children:t.name}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-amber-400"}),e.jsxs("span",{className:"text-sm text-gray-300",children:[e.jsx("span",{className:"font-semibold text-emerald-400",children:t.unlocked_count}),e.jsx("span",{className:"text-gray-500",children:" / "}),e.jsx("span",{className:"font-semibold text-white",children:t.total_count}),e.jsx("span",{className:"text-gray-500 ml-1",children:"achievements"})]})]}),t.unlocked_count>0&&e.jsxs("div",{className:"flex items-center gap-1 bg-emerald-500/20 border border-emerald-500/30 rounded px-2 py-0.5",children:[e.jsx(ee,{className:"w-3 h-3 text-emerald-400"}),e.jsxs("span",{className:"text-xs text-emerald-300 font-medium",children:[Math.round(t.unlocked_count/t.total_count*100),"% Complete"]})]})]})]}),e.jsx("div",{className:"text-blue-400 group-hover:translate-x-1 transition-transform",children:"â†’"})]})},t.name))}),e.jsx("div",{className:"p-6 border-t border-[#2a3142] bg-[#0f1420] rounded-b-xl",children:e.jsxs("div",{className:"flex gap-3 text-sm text-gray-400",children:[e.jsx(H,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("p",{children:"Select the source with the most complete achievement data. You can manually add missing achievements later."})]})})]})}),e.jsx(st,{})]})}Je.createRoot(document.getElementById("root")).render(e.jsx(Ke.StrictMode,{children:e.jsx(nt,{})}));
